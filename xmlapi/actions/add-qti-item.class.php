<?php
/**
 * 新增 QTI 題目
 */
include_once(dirname(__FILE__).'/action.class.php');
require_once(sysDocumentRoot . '/teach/exam/item_create_lib.php');
require_once(sysDocumentRoot . '/teach/exam/exam_create_lib.php');

error_reporting(E_ALL ^ E_NOTICE);
ini_set('display_errors', 'On');
// 避免timeout
set_time_limit(0);
// 避免連線斷線後，後端處理也中斷
ignore_user_abort(false);

class AddQtiItemAction extends baseAction
{
    /**
     * QTI題目結構轉換
     * @param $item array QTI題目
     * @param $type string 新增或修改(create | modify)
     * @return array
     */
    function dataTransform($item, $type = 'create') {
        $itemData = array();
        if (count($item) > 0) {
                // topic_(?)  (?)照題目類型編號
            $itemData = array(
//                'topic_1'       => '',
                'isHTML'        => 1,
                'topic'         => $item['title']['text'],
                'answer'        => '',   //預設答案
                // 分類應該不需要
//                'version'       => '',// 版
//                'volume'        => '',// 冊
//                'chapter'       => '',// 章
//                'paragraph'     => '',// 節
//                'section'       => '',// 段
                'repeat'        => '',   // 是否連續新增
                /*
                 * 題目類型?
                 * 是非: 1; 單選: 2; 多選: 3; 填充: 4; 申論: 5; 配合: 6;
                 */
                'type'          => $item['type'],
                'ticket'        => $_REQUEST['ticket']
            );
            // 題目附檔
            if (count($item['title']['attaches']) > 0) {
                $itemData['files']['topic_files'] = $item['title']['attaches'];
            }
            // 單選、多選、配合才有
            if (in_array($item['type'], array(2, 3, 6))) {
                for ($i = 0; $i < count($item['optionals']); $i++) {
                    $itemData['render_choices'][$i] = $item['optionals'][$i]['text'];
                    $itemData['files']['render_choice_files'][$i] = $item['optionals'][$i]['attaches'];
                }
            }
            if ($type === 'create') {
                // 新增
                $itemData['gets'] = '';
            } else if ($type === 'modify') {
                // 修改
//                $itemData['origin'];
//                $itemData['ident']; // item_id

            }
        }
        return $itemData;
    }
    function main()
    {
        // 驗證 Ticket
        parent::checkTicket();
        global $sysSession, $sysConn;
        $itemIdAry = array();

        // 處理接收的資料 - Begin
        $inputData = file_get_contents('php://input');
        $postData = JsonUtility::decode($inputData);

        // 假資料
        $postData = array(
            'cid'       => 10000001,
            'students'  => array(
                'spring'
            ),
            'question'  => array(
                'type'  =>  "questionnaire",
                'item'  =>  array(
                    'title'=>  array(
                        'text'    =>  "Q3",
                        'attaches'=> array(
                            array(
                                'filename' => '456.jpg',
                                'base64' => 'data:image/jpeg;base64,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'
                            )
                        )
                    ),
                    'type'  =>  2,
                    'optionals'  =>  array(
                        array(
                            'text'      => 'thisisoptional',
                            'attaches'  => array(
                                'filename' => '123.jpg',
                                'base64' => 'data:image/jpeg;base64,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'
                            )
                        )
                    )
                )
            ),
        );
        // 資料轉型
        $itemData = $this->dataTransform($postData['question']['item']);
        // 需要的資料

        if (isset($postData['validWebService']) && intval($postData['validWebService']) === 1) {
            // 若是測試web service，新增至10000000
            $courseId = 10000000;
            $validWebService = true;
        } else {
            // TODO: 確認傳進來的course_id 是否有新增權限
            // 指定使用者端給予的course_id
            // $courseId = $postData['cid']
            $courseId = $postData['cid'];
        }
        // 儲存 course_id
        $sysSession->course_id = $courseId;
        $sysSession->restore();
        // 處理接收的資料 - End

        // 定義 lib 會使用到的常數
        define('API_QTI_which', $postData['question']['type']);
        if (!defined('QTI_env')) {
            define('QTI_env', 'teach');
        }
        // 新增題目
        $item = new itemMaintain();
        // 目前沒用到修改，直接指定為新增 mode
        $item->isModify = false;
        $itemResult = $item->saveItem($itemData);
        $itemIdAry[] = $itemResult['itemId'];
var_dump($itemResult);
        if ($itemResult['ErrCode'] < 0) {
            // 沒有權限新增 QTI_which  $newticket
            die('Illegal Access !');
        }
        if ($item->isModify) {
            // 更新試題
            if ($itemResult['ErrCode'] == 0) {
                // 更新成功
//                wmSysLog(
//                    $sysSession->cur_func, $item->courseId, 0 , 0, 'auto', $_SERVER['PHP_SELF'],
//                    'Modify ' . QTI_which . ' Item ' . $item->ident . ' success:'
//                );
                $code = 0;
                $message = 'success';
            } else {
                // 更新失敗
                $errMsg = implode(' : ', $itemResult);
//                wmSysLog(
//                    $sysSession->cur_func, $item->courseId, 0 , 2, 'auto', $_SERVER['PHP_SELF'],
//                    'Modify ' . QTI_which . ' Item ' . $item->ident . ' fail:' . $errMsg
//                );
                $code = 2;
                $message = 'fail';
                $data = $errMsg;
            }
        } else {
            // 新增試題
            if ($itemResult['ErrCode'] == 0) {
                // 新增成功
//                wmSysLog(
//                    $sysSession->cur_func, $item->courseId, 0 , 0, 'auto', $_SERVER['PHP_SELF'],
//                    'Create ' . QTI_which . ' Item '. $item->ident
//                );
                $code = 0;
                $message = 'success';
            } else {
                $errMsg = implode(' : ', $itemResult);
//                wmSysLog(
//                    $sysSession->cur_func, $item->courseId, 0 , 2, 'auto', $_SERVER['PHP_SELF'],
//                    'Create ' . QTI_which . ' Item ' . $item->ident . ' fail:' . $errMsg
//                );
                $code = 2;
                $message = 'fail';
                $data = $errMsg;
            }
        }

//        wmSysLog(999999017, $sysSession->school_id , 0 , 1, 'other', $_SERVER['PHP_SELF'], 'Add QTI item:' . $message, $sysSession->username);

        // 新增測驗

        // 新增測驗
        if ($code === 0) {
            $exam = new examMaintain();
            $exam->isModify = false;
            // 假資料
            $itemData = array(
                'title' => array(
                    'Big5' => 'testCreate3',
                    'GB2312' => 'testCreate3'
                ),
                'notice' => '注意',
                'ex_type' => 1,
                'rdoPublish' => 1,
                'begin_time' => '2016-04-18 11:39',
                'close_time' => '2016-04-18 11:39',
                'setting' => array(
                    'upload' => 0,
                    'anonymity' => 0
                ),
                'modifiable' => 'Y',
                'count_type' => 'max',
                'percent' => 100.0,
                'forGuest' => 0,
                'do_times' => 1,
                'do_interval' => 60,
                'item_per_page' => 0,
                'ctrl_paging' => null,
                'ctrl_window' => null,
                'ctrl_timeout' => null,
                'announce_type' => 'never',
                'announce_time' => '2016-04-18 11:39',
                'content' => '',
                'acl_lists' => '',
                'item_cramble' => '',
                'random_pick' => '',
            );
            $createContentXml = $exam->createContentXml($itemIdAry);
            $itemData['content'] = ($createContentXml['code'] === 0) ? $createContentXml['data'] : '';
            $examResult = $exam->saveExam($itemData);
var_dump($itemResult);
            $data = $examResult['qti_id'];
        }

        // make json
        $jsonObj = array(
            'code' => $code,
            'message' => $message,
            'data' => $data
        );

        $jsonEncode = JsonUtility::encode($jsonObj);

        // output
        header('Content-Type: application/json');
        echo $jsonEncode;
        exit();
    }
}